{% set deviceman="Propellerhead Software" -%}
{% set devicescope="se.propellerheads.Parsec" -%}
{% set devicename="Parsec" -%}
{% set shortname="parsec" -%}
{# Variables -#}
{% set show_pitch_bend_range=true -%}
{% set oscpagedefault="GenereratorA" -%}
{% set filterpagedefault="SoundEngineA" -%}
{% set modpagedefault="LFO1" -%}
{% set perfpagedefault="ModMatrix1" -%}
{% set effectpagedefault="Reverb" -%}
{# End Variables -#}
{% include "remotemap/include/device/scope.j2" %}
Define Group	Page	Main	GenereratorA	GenereratorB	SoundEngineA	SoundEngineB	AmpEnv	LFO1	LFO2	Env1	Env2	Reverb	Delay	ModMatrix1	ModMatrix2	ModMatrix3	ModMatrix4	ModMatrix5	ModMatrix6	ModMatrix7	ModMatrix8	Index	Keyboard	Internal
Define Group	Enabled	On	Off
Define Group	TempoSync	Free	Sync
{% from "remotemap/include/device/instrument.j2" import devicetype with context %}
{% import "remotemap/include/macros.j2" as rm with context %}
// Index
Map	PageName		"Index" 				Index
Map	Button 1-1		Page=Main			Index
Map	Button 1-2		Page=AmpEnv			Index
Map	Button 1-7		Page=Keyboard			Index
Map	Button 2-1		Page=GenereratorA			Index
Map	Button 3-1		Page=GenereratorB			Index
Map	Button 2-5		Page=SoundEngineA			Index
Map	Button 3-5		Page=SoundEngineB			Index
Map	Button 2-8		Page=Reverb			Index
Map	Button 3-8		Page=Delay			Index
Map	Button 5-5		Page=LFO1			Index
Map	Button 6-5		Page=LFO2			Index
Map	Button 5-6		Page=Env1			Index
Map	Button 6-6		Page=Env2			Index
Map	Button 8-1		Page=ModMatrix1			Index
Map	Button 8-2		Page=ModMatrix2			Index
Map	Button 8-3		Page=ModMatrix3			Index
Map	Button 8-4		Page=ModMatrix4			Index
Map	Button 8-5		Page=ModMatrix5			Index
Map	Button 8-6		Page=ModMatrix6			Index
Map	Button 8-7		Page=ModMatrix7			Index
Map	Button 8-8		Page=ModMatrix8			Index
Map	Button C7		Page=Internal			Index
// Main
Map	PageName		"Main" 				Main
{{ rm.include_menus(curpage="Main") -}}
Map	UDVButton 7-1_8-1		Pitch Bend Range				Main
Map	UDVButton 7-3_8-3		Key Mode				Main
Map	UDVButton 7-4_8-4		Portamento Mode				Main
Map	Fader 5		Portamento				Main
Map	Knob V6		Balance				Main
Map	Fader 7		Spread				Main
Map	Fader 8		Master Level				Main
// AmpEnv
Map	PageName		"Amp Envelope" 			AmpEnv
{{ rm.include_menus(curpage="AmpEnv") -}}
Map	Fader 2		Gain			AmpEnv
Map	Fader 4		Amp Attack			AmpEnv
Map	Fader 5		Amp Decay			AmpEnv
Map	Fader 6		Amp Sustain			AmpEnv
Map	Fader 7		Amp Release			AmpEnv
// Generator A
Map	PageName		"Generator A" 			GenereratorA
{{ rm.include_menus(curpage="GenereratorA", submenu="osc", oscpage="GenereratorA") -}}
Map	UDVButton 1-2_2-2		A Gen Select			GenereratorA
Map	Button 8-2		A Phase Sync			GenereratorA
Map	Fader 3		A Gen X			GenereratorA
Map	UDVButton 1-4_2-4		A Oct			GenereratorA
Map	UDVButton 3-4_4-4		A Semi			GenereratorA
Map	UDVButton 5-4_6-4		A Tune			GenereratorA
Map	Fader 5		A Pitch Kbd			GenereratorA
Map	Fader 6		A Cutoff Slope			GenereratorA
Map	Fader 7		A Cutoff Freq			GenereratorA
Map	Fader 8		A Cutoff Kbd			GenereratorA
// Generator B
Map	PageName		"Generator B" 			GenereratorB
{{ rm.include_menus(curpage="GenereratorB", submenu="osc", oscpage="GenereratorB") -}}
Map	Button 1-1		B Enable		SEL1	GenereratorB
Map	Sel1_0		Enabled=Off			GenereratorB
Map	Sel1_1		Enabled=On			GenereratorB
Map	UDVButton 1-2_2-2		B Gen Select			GenereratorB	On
Map	Button 8-2		B Phase Sync			GenereratorB	On
Map	Fader 3		B Gen X			GenereratorB	On
Map	UDVButton 1-4_2-4		B Oct			GenereratorB	On
Map	UDVButton 3-4_4-4		B Semi			GenereratorB	On
Map	UDVButton 5-4_6-4		B Tune			GenereratorB	On
Map	Fader 5		B Pitch Kbd			GenereratorB	On
Map	Fader 6		B Cutoff Slope			GenereratorB	On
Map	Fader 7		B Cutoff Freq			GenereratorB	On
Map	Fader 8		B Cutoff Kbd			GenereratorB	On
// Sound Engine A
Map	PageName		"Sound Engine A" 			SoundEngineA
{{ rm.include_menus(curpage="SoundEngineA", submenu="filter", filterpage="SoundEngineA") -}}
Map	UDVButton 1-2_2-2		A Mod1 Select			SoundEngineA
Map	Fader 3		A Mod1 X			SoundEngineA
Map	Fader 4		A Mod1 Y			SoundEngineA
Map	UDVButton 1-5_2-5		A Mod2 Select			SoundEngineA
Map	Fader 6		A Mod2 X			SoundEngineA
Map	Fader 7		A Mod2 Y			SoundEngineA
// Sound Engine B
Map	PageName		"Sound Engine B" 			SoundEngineB
{{ rm.include_menus(curpage="SoundEngineB", submenu="filter", filterpage="SoundEngineB") -}}
Map	Button 1-1		B Enable		SEL1	SoundEngineB
Map	Sel1_0		Enabled=Off			SoundEngineB
Map	Sel1_1		Enabled=On			SoundEngineB
Map	UDVButton 1-2_2-2		B Mod1 Select			SoundEngineB	On
Map	Fader 3		B Mod1 X			SoundEngineB	On
Map	Fader 4		B Mod1 Y			SoundEngineB	On
Map	UDVButton 1-5_2-5		B Mod2 Select			SoundEngineB	On
Map	Fader 6		B Mod2 X			SoundEngineB	On
Map	Fader 7		B Mod2 Y			SoundEngineB	On
// Reverb
Map	PageName		"Reverb" 			Reverb
{{ rm.include_menus(curpage="Reverb") -}}
Map	Sel1_0		Enabled=Off			Reverb
Map	Sel1_1		Enabled=On			Reverb
Map	Button 1-2		Reverb On		SEL1	Reverb
Map	Fader 3		Reverb Size			Reverb	On
Map	Fader 4		Reverb Decay			Reverb	On
Map	Fader 5		Reverb Damp			Reverb	On
Map	Fader 8		Reverb Level			Reverb	On
// Delay
Map	PageName		"Delay" 			Delay
{{ rm.include_menus(curpage="Delay") -}}
Map	Sel1_0		Enabled=Off			Delay
Map	Sel1_1		Enabled=On			Delay
Map	Sel2_0		TempoSync=Free			Delay
Map	Sel2_1		TempoSync=Sync			Delay
Map	Button 1-2		Delay On		SEL1	Delay
Map	Button 1-3		Delay Sync		SEL2	Delay	On
Map	Fader 4		Delay Time			Delay	On	Free
Map	UDVButton 7-4_8-4		Delay Time Synced			Delay	On	Sync
Map	Fader 5		Delay Feedback			Delay	On
Map	Fader 8		Delay DryWet			Delay	On
// LFO1
Map	PageName		"LFO 1" 			LFO1
{{ rm.include_menus(curpage="LFO1", submenu="mod", modpage="LFO1") -}}
Map	UDVButton 1-2_2-2		LFO1 Wave			LFO1
Map	Fader 3		LFO1 Delay			LFO1
Map	Fader 4		LFO1 Rate			LFO1
// LFO2
Map	PageName		"LFO 2" 			LFO2
{{ rm.include_menus(curpage="LFO2", submenu="mod", modpage="LFO2") -}}
Map	Sel1_0		TempoSync=Free			LFO2
Map	Sel1_1		TempoSync=Sync			LFO2
Map	UDVButton 1-2_2-2		LFO2 Wave			LFO2
Map	Button 1-3		LFO2 Sync		SEL1	LFO2
Map	Fader 4		LFO2 Rate			LFO2	Free
Map	UDVButton 7-4_8-4		LFO2 Synced Rate			LFO2	Sync
// Env 1
Map	PageName		"Env 1" 			Env1
{{ rm.include_menus(curpage="Env1", submenu="mod", modpage="Env1") -}}
Map	Fader 3		Env1 Attack			Env1
Map	Fader 4		Env1 Decay			Env1
Map	Fader 5		Env1 Sustain			Env1
Map	Fader 6		Env1 Release			Env1
// Env 2
Map	PageName		"Env 2" 			Env2
{{ rm.include_menus(curpage="Env2", submenu="mod", modpage="Env2") -}}
Map	Button 1-2		Env2 Loop			Env2
Map	Fader 3		Env2 Delay			Env2
Map	Fader 4		Env2 Attack			Env2
Map	Fader 5		Env2 Hold			Env2
Map	Fader 6		Env2 Decay			Env2
Map	Fader 7		Env2 Sustain			Env2
Map	Fader 8		Env2 Release			Env2
{% for mmnum in range(1,9) -%}
// Mod Matrix 1
Map	PageName		"Mod Matrix {{ mmnum }}" 			ModMatrix{{ mmnum }}
{{ rm.include_menus(curpage="ModMatrix"+mmnum|string, submenu="perf", mainmenu_mini="perf", perfpage="ModMatrix"+mmnum|string) -}}
Map	UDVButton 1-2_2-2		Source {{ mmnum }}			 ModMatrix{{ mmnum }}
Map	Knob V3		Mod{{ mmnum }} Dest1 Amt			ModMatrix{{ mmnum }}
Map	UDVButton 1-4_2-4		Mod{{ mmnum }} Dest1			 ModMatrix{{ mmnum }}
Map	Knob V5		Mod{{ mmnum }} Dest2 Amt			ModMatrix{{ mmnum }}
Map	UDVButton 1-6_2-6		Mod{{ mmnum }} Dest2			 ModMatrix{{ mmnum }}
Map	Knob V7		Mod{{ mmnum }} Scale Amt			ModMatrix{{ mmnum }}
Map	UDVButton 1-8_2-8		Mod{{ mmnum }} Scale			 ModMatrix{{ mmnum }}
{% endfor -%}
